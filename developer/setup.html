

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The development setup &mdash; pretalx 2024.4.0.dev0 documentation</title>
  
  <link rel="shortcut icon" href="../_static/images/favicon.png"/>

  <link rel="stylesheet" href="../_static/pretalx.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/css/pretalx.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  
  
    <link rel="index" title="Index" href="../genindex.html"/>
    <link rel="search" title="Search" href="../search.html"/>

  <meta name="viewport" content="width=device-width, initial-scale=1" />
 

  
  <script src="../_static/js/modernizr.min.js"></script>
</head>

<body role="document">

   

  <header>
  <a id="logourl" href="/" class="mobile-hide">
    <img src="/_static/images/logo.svg" />
  </a>

  <div id="spacer"></div>
  <div role="search" id="header-search">
    <form id="rtd-search-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>

  <div id="related" class="mobile-hide">
    <div class="dropdown">
      <div class="dropdown-title">Support us</div>
      <div class="dropdown-body">
        <div class="dropdown-item"><a href="https://pretalx.com/p/pricing">Hosted pretalx</a></div>
        <div class="dropdown-item"><a href="https://pretalx.com/p/pricing">pretalx support</a></div>
        <div class="dropdown-item"><a href="https://rixx.de/funding">Developer support</a></div>
      </div>
    </div>
    <div class="dropdown">
      <div class="dropdown-title">Resources</div>
      <div class="dropdown-body">
        <div class="dropdown-item"><a href="https://pretalx.com/p/about/">Website</a></div>
        <div class="dropdown-item"><a href="https://pretalx.com/p/news/">Blog</a></div>
        <div class="dropdown-item"><a href="https://pretalx.com/p/try/">Try pretalx</a></div>
        <div class="dropdown-item"><a href="https://github.com/pretalx/pretalx/">Source code</a></div>
      </div>
    </div>
  </div>
</header>
    
    <nav data-toggle="nav-shift" class="nav-side">
      <div class="nav-scroll">

        <div class="nav-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
            <div id="toctree">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administrator/index.html">Administrator documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">The development setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#external-dependencies">External dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#local-python-environment">Local Python environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-a-copy-of-the-source-code">Get a copy of the source code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#working-with-the-code">Working with the code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#run-the-development-server">Run the development server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#code-checks-and-unit-tests">Code checks and unit tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#working-with-mails">Working with mails</a></li>
<li class="toctree-l4"><a class="reference internal" href="#working-with-translations">Working with translations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#working-with-the-documentation">Working with the documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html">Contributing to pretalx</a></li>
<li class="toctree-l2"><a class="reference internal" href="translating.html">Translating pretalx</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html">Concepts and Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="interfaces/index.html">Interfaces and Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins/index.html">Plugin development</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funding.html">❤ Funding</a></li>
</ul>

            </div>
            
          
        </div>
      </div>
    </nav>

    <main data-toggle="nav-shift">

      
      <nav class="nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="nav-top" class="fa fa-bars"></i>
          <a href="../contents.html">pretalx</a>
        
      </nav>

      
      <div class="nav-content">
        <div class="rst-content">
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="the-development-setup">
<span id="devsetup"></span><h1>The development setup<a class="headerlink" href="#the-development-setup" title="Link to this heading">¶</a></h1>
<p>To contribute to pretalx, it’s useful to run pretalx locally on your device so you can test your
changes. First of all, you need install some packages on your operating system:</p>
<p>If you want to install pretalx on a server for actual usage, go to the <a class="reference internal" href="../administrator/index.html#administrator-index"><span class="std std-ref">Administrator documentation</span></a>
instead.</p>
<section id="external-dependencies">
<h2>External dependencies<a class="headerlink" href="#external-dependencies" title="Link to this heading">¶</a></h2>
<p>Please make sure you have the following dependencies installed:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tool</p></th>
<th class="head"><p>Debian package</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Python 3.10(!) or newer</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>pip for Python 3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">python3-pip</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">python-dev</span></code> for Python 3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">python3-dev</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">python-venv</span></code>, if not included</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">python3-venv</span></code></p></td>
</tr>
<tr class="row-even"><td><p>libffi</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">libffi-dev</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>gettext</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">gettext</span></code></p></td>
</tr>
<tr class="row-even"><td><p>git</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">git</span></code></p></td>
</tr>
</tbody>
</table>
<p>Some Python dependencies might also need a compiler during installation, the Debian package
<code class="docutils literal notranslate"><span class="pre">build-essential</span></code> or something similar should suffice.</p>
</section>
<section id="local-python-environment">
<h2>Local Python environment<a class="headerlink" href="#local-python-environment" title="Link to this heading">¶</a></h2>
<p>Please execute <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-V</span></code> or <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-V</span></code> to make sure you have Python 3.10
(or newer) installed. Also make sure you have pip for Python 3 installed, by
running <code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">-V</span></code>. Then use Python’s internal tools to create a virtual
environment and activate it for your current session:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">venv</span> <span class="n">env</span>
<span class="n">source</span> <span class="n">env</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>You should now see a (env) prepended to your shell prompt. <strong>You have to do
this in every shell you use to work with pretalx</strong> (or configure your shell to
do so automatically).</p>
<p>If you are working on Ubuntu or Debian, we strongly recommend upgrading your pip and setuptools
installation inside the virtual environment, otherwise some of the dependencies might fail:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ pip install -U pip setuptools wheel
</pre></div>
</div>
</section>
<section id="get-a-copy-of-the-source-code">
<h2>Get a copy of the source code<a class="headerlink" href="#get-a-copy-of-the-source-code" title="Link to this heading">¶</a></h2>
<p>You can clone our git repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">pretalx</span><span class="o">/</span><span class="n">pretalx</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">pretalx</span><span class="o">/</span>
</pre></div>
</div>
</section>
<section id="working-with-the-code">
<h2>Working with the code<a class="headerlink" href="#working-with-the-code" title="Link to this heading">¶</a></h2>
<p>First up, install all the main application dependencies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ pip3 install --upgrade-strategy eager -Ue &quot;.[dev]&quot;
</pre></div>
</div>
<p>Next, you will have to copy the static files from the source folder to the
STATIC_ROOT directory, and create the local database:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ cd src
(env)$ python manage.py collectstatic --noinput
(env)$ python manage.py migrate
</pre></div>
</div>
<p>To be able to log in, you should also create an admin user, organiser and team by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ python manage.py init
</pre></div>
</div>
<p>Additionally, if you want to get started with an event right away, run the <code class="docutils literal notranslate"><span class="pre">create_test_event</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ python manage.py create_test_event
</pre></div>
</div>
<p>This command will create a test event for you, with a set of test submissions,
and speakers, and the like.  With the <code class="docutils literal notranslate"><span class="pre">--stage</span></code> flag, you can determine which
stage the event in question should be in. The available choices are <code class="docutils literal notranslate"><span class="pre">cfp</span></code>
(CfP still open, plenty of submissions, but no reviews), <code class="docutils literal notranslate"><span class="pre">review</span></code>
(submissions have been reviewed and accepted/rejected), <code class="docutils literal notranslate"><span class="pre">schedule</span></code> (there is
a schedule and the event is currently running), and <code class="docutils literal notranslate"><span class="pre">over</span></code>. <code class="docutils literal notranslate"><span class="pre">schedule</span></code> is
the default value.</p>
<p>If you want to see pretalx in a different language than English, you have to compile our language
files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ python manage.py compilemessages
</pre></div>
</div>
<p>If you need to test more complicated features, you should probably look into the
<a class="reference internal" href="../administrator/installation.html"><span class="doc">setup</span></a> documentation to find the bits and pieces you
want to add to your development setup.</p>
<section id="run-the-development-server">
<h3>Run the development server<a class="headerlink" href="#run-the-development-server" title="Link to this heading">¶</a></h3>
<p>To run the local development server, execute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ python manage.py runserver
</pre></div>
</div>
<p>Now point your browser to <a class="reference external" href="http://127.0.0.1:8000/orga/">http://127.0.0.1:8000/orga/</a> – You should be able to log in and use
all sites except those that use big custom JavaScript components, like the schedule editor.
In order to use those, you have two options – in any case, you will need to have <code class="docutils literal notranslate"><span class="pre">node</span></code> and
<code class="docutils literal notranslate"><span class="pre">npm</span></code> installed on your system.</p>
<p>If you just need to use the JavaScript component, but don’t need to change it,
compile the JavaScript files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ python manage.py rebuild --npm-install
</pre></div>
</div>
<p>If you want to change the JavaScript code, you can run the following command, which combines
the Python and the JavaScript development servers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ python manage.py devserver
</pre></div>
</div>
</section>
<section id="code-checks-and-unit-tests">
<span id="checksandtests"></span><h3>Code checks and unit tests<a class="headerlink" href="#code-checks-and-unit-tests" title="Link to this heading">¶</a></h3>
<p>Before you check in your code into git, always run the static linters and style checkers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ black .
(env)$ isort .
(env)$ flake8 .
(env)$ find -name &quot;*.html&quot; | xargs djhtml -i
</pre></div>
</div>
<p>Once you’re done with those, run the tests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ python -m pytest tests/
</pre></div>
</div>
<p>Pytest, our test framework, has a lot of useful options, like <code class="docutils literal notranslate"><span class="pre">--lf</span></code> to repeat only failing
tests, <code class="docutils literal notranslate"><span class="pre">-k</span> <span class="pre">something</span></code> to run only tests called <code class="docutils literal notranslate"><span class="pre">*something*</span></code>, and <code class="docutils literal notranslate"><span class="pre">-x</span></code> to stop on the
first breaking test.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have more than one CPU core and want to speed up the test suite, you can run
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pytest</span> <span class="pre">-n</span> <span class="pre">NUM</span></code> with <code class="docutils literal notranslate"><span class="pre">NUM</span></code> being the number of threads you want to use.</p>
</div>
<p>If you edit a stylesheet <code class="docutils literal notranslate"><span class="pre">.scss</span></code> file, please run <code class="docutils literal notranslate"><span class="pre">sass-convert</span> <span class="pre">-i</span> <span class="pre">path/to/file.scss</span></code>
afterwards to format that file.</p>
</section>
<section id="working-with-mails">
<h3>Working with mails<a class="headerlink" href="#working-with-mails" title="Link to this heading">¶</a></h3>
<p>When running in development mode, Pretalx uses Django’s console email backend.
This means the development server will print any emails to its stdout, instead
of sending them via SMTP.</p>
<p>If you want to test sending event emails via a custom SMTP server, we recommend
starting Python’s debugging SMTP server in a separate shell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">smtpd</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">c</span> <span class="n">DebuggingServer</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">1025</span>
</pre></div>
</div>
<p>You can use this server by specifying host <code class="docutils literal notranslate"><span class="pre">localhost</span></code> and port <code class="docutils literal notranslate"><span class="pre">1025</span></code> in
the event email settings.</p>
</section>
<section id="working-with-translations">
<h3>Working with translations<a class="headerlink" href="#working-with-translations" title="Link to this heading">¶</a></h3>
<p>If you want to translate new strings that are not yet known to the translation system, you can use
the following command to scan the source code for strings we want to translate and update the
<code class="docutils literal notranslate"><span class="pre">*.po</span></code> files accordingly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ python manage.py makemessages
</pre></div>
</div>
<p>To actually see pretalx in your language, you have to compile the <code class="docutils literal notranslate"><span class="pre">*.po</span></code> files to their optimised
binary <code class="docutils literal notranslate"><span class="pre">*.mo</span></code> counterparts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ python manage.py compilemessages
</pre></div>
</div>
<p>pretalx by default supports events in English, German, or French, or all three. To translate
pretalx to a new language, add the language code and natural name to the <code class="docutils literal notranslate"><span class="pre">LANGUAGES</span></code> variable in
the <code class="docutils literal notranslate"><span class="pre">settings.py</span></code>. Depending on the completeness of your changes, and your commitment to maintain
them in the future, we can talk about merging them into core.</p>
</section>
</section>
<section id="working-with-the-documentation">
<h2>Working with the documentation<a class="headerlink" href="#working-with-the-documentation" title="Link to this heading">¶</a></h2>
<p>To build the documentation, you will have to install the documentation dependencies. Go to the root
directory of your git repository, and then run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ pip install --upgrade-strategy eager -Ur doc/requirements.txt
</pre></div>
</div>
<p>Then, to build the documentation, run the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ make html
</pre></div>
</div>
<p>You will now find the generated documentation in the <code class="docutils literal notranslate"><span class="pre">doc/_build/html/</span></code> subdirectory.
If you find yourself working with the documentation more than a little, give the <code class="docutils literal notranslate"><span class="pre">autobuild</span></code>
functionality a try:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(env)$ sphinx-autobuild . _build/html --port 8001
</pre></div>
</div>
<p>Then, go to <a class="reference external" href="http://localhost:8081">http://localhost:8081</a> for a version of the documentation that
automatically re-builds when you save a changed source file.
Please note that changes in the static files (stylesheets and JavaScript) will only be reflected
after a restart.</p>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <a href="https://github.com/pretalx/pretalx/blob/main/doc/developer/setup.rst" class="fa fa-github"> Edit this page</a> &middot;
  
  &copy; Copyright 2017-2025, Tobias Kunze.
  <div> 
  </div>
</footer>
        </div>
      </div>
    </main>

  <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:'../',
          VERSION:'2024.4.0.dev0',
          COLLAPSE_INDEX:false,
          FILE_SUFFIX:'.html',
          HAS_SOURCE:  true,
          SOURCELINK_SUFFIX: '.txt'
      };
  </script>
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sphinx_highlight.js"></script>
    <script type="text/javascript" src="../_static/clipboard.min.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script> 

</body>
</html>